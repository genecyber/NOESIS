# Anthropic API Key (required)
ANTHROPIC_API_KEY=your-api-key-here

# Database
# Local development:
DATABASE_PATH=./data/metamorph.db
# Railway deployment (uses mounted volume):
# DATABASE_PATH=/data/metamorph.db

# Server
PORT=3001
HOST=localhost

# Logging
LOG_LEVEL=info

# Embeddings (optional - defaults to local)
# EMBEDDINGS_API_URL=

SUPABASE_URL=https://....supabase.co
SUPABASE_SERVICE_ROLE_KEY=sb_secret_...

# Remote NOESIS server for sync (optional)
# NOESIS_REMOTE_URL=https://your-deployment.railway.app

# ===========================================
# Vercel Integration (for Sandbox support)
# ===========================================
# Register an OAuth app at https://vercel.com/account/settings/applications
# VERCEL_CLIENT_ID=oac_xxx
# VERCEL_CLIENT_SECRET=xxx
# VERCEL_WEBHOOK_SECRET=xxx

# ===========================================
# Token Encryption (for storing OAuth tokens)
# ===========================================
# 32-character key for AES-256-GCM encryption
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# TOKEN_ENCRYPTION_KEY=xxx

# ===========================================
# Emblem Auth (multitenancy)
# ===========================================
# Set to 'true' for development without real auth
EMBLEM_DEV_MODE=true
# EMBLEM_JWT_SECRET=xxx
# EMBLEM_API_URL=https://api.emblemvault.ai

# ===========================================
# Railway Deployment Notes
# ===========================================
# When deploying to Railway:
# 1. Set ANTHROPIC_API_KEY in Railway's environment variables
# 2. DATABASE_PATH is automatically set to /data/metamorph.db in Dockerfile
# 3. The /data directory is mounted as a persistent volume (configured in railway.toml)
# 4. This ensures SQLite data persists across deployments and restarts
# 5. Add a volume mount named "metamorph-data" to /data in Railway dashboard
